<?xml version="1.0" encoding="UTF-8" ?>

<list>
	<dataSource name="ItemDS" dbConnectionRef="main">
		<sql>
			<![CDATA[
			select
				it.c_id,
				it.c_name,
				it.c_english_name,
				to_number(it.c_active) c_active,
				it.c_technical_code,
				to_date('1970-01-01 00','yyyy-mm-dd hh24') + (it.c_inserttime)/1000/60/60/24 as c_insert_time,
				it.c_main_measuring_attr_value_id,
				itattr.c_value as c_main_measuring
			from
				t_item it
				join t_item_attr_value itattr on itattr.c_id = it.c_main_measuring_attr_value_id
        	]]>
		</sql>

		<fields>
			<field name="c_id" type="Integer" title="شناسه"/>
			<field name="c_name" type="String" filterType="Contain" title="نام"/>
			<field name="c_english_name" filterType="Contain" type="String" title="نام انگلیسی"/>
			<field name="c_active" type="Boolean" title="فعال"/>
			<field name="c_technical_code" type="String" title="کد فنی"/>
			<field name="c_insert_time" type="DateTime" title="تاریخ ایجاد"/>
			<field name="c_main_measuring" type="String" title="Main Measuring"/>
			<field name="c_main_measuring_attr_value_id" type="LookUp" filterType="List" title="Measure">
				<sqlOpt>
					<![CDATA[
					select
						c_id,
						c_value
					from
						t_item_attr_value
					where
						c_value is not null
					]]>
				</sqlOpt>
			</field>
		</fields>

		<!--<params>
			<param name="" type="" title=""/>
		</params>-->
	</dataSource>
</list>